version: v1.0
name: SampleTest
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu2004
blocks:
  - name: Basic Test
    task:
      prologue:
        commands:
          - checkout
          - sudo apt-get update
          - sudo apt-get install -y git
      jobs:
        - name: Simple Git Test
          commands:
            - |
              set -x

              # Define the path to the test reports and GitHub repository
              REPORT_DIR="reports"  # Use a simple test path
              GIT_REPO="https://PrathamGupta17:${GITHUB_TOKEN}@github.com/PrathamGupta17/tic-tac-toe.git"
              GIT_BRANCH="reports"

              # Configure Git
              git config --global user.name "CI Bot"
              git config --global user.email "ci-bot@example.com"

              # Test git operations
              git clone -b $GIT_BRANCH $GIT_REPO repo_dir
              echo "This is a test file" > repo_dir/test.txt
              cd repo_dir
              git add .
              git commit -m "Add test file"
              git push origin $GIT_BRANCH
